# 栈和队列

## 一、栈 Stack 和队列 Queue

我们日常生活中，都需要将物品排列，或者安排事情的先后顺序。更通俗地讲，我们买东西时，人太多的情况下，我们要排队，排队也有先后顺序，有些人早了点来，排完队就离开了，有些人晚一点，才刚刚进去人群排队。

数据是有顺序的，从数据 `1` 到数据 `2`，再到数据 `3`，和日常生活一样，我们需要放数据，也需要排列数据，所以栈和队列出现了。

在计算机的世界里，会经常听见两种结构，`栈（stack）` 和 `队列 (queue)`。这其实是一种东西，就是 `有顺序的队列`，只不过出队的顺序不同。

1. 栈：先进后出，先进队的数据最后才出来。在英文的意思里，`stack` 可以作为一叠的意思，这个排列是垂直的，你将一张纸放在另外一张纸上面，先放的纸肯定是最后才会被拿走，因为上面有一张纸挡住了它。
2. 队列：先进先出，先进队的数据先出来。在英文的意思里，`queue` 和现实世界的排队意思一样，这个排列是水平的，先排先得。

我们可以用数据结构：`链表`（可连续或不连续的将数据与数据关联起来的结构），或 `数组`（连续的内存空间，按索引取值） 来实现 `队列`（实现 `栈`，只要把出队的方向改一下即可）。

## 二、实践：实现数组队列 Queue

数组形式的队列(`queue`):

```go

```

我们来分析各操作它的时间复杂度：

## 三、实践：实现链表队列 Queue

链表形式的队列(`queue`)：

```go

```

我们来分析各操作它的时间复杂度：

## 四、列表 List 和集合 Set

我们又经常听到 `列表` 和 `集合` 这两种数据结构，这两种数据结构其实也是用于存放数据，不过它们是更宏观的概念，代表存放数据的容器。

我们一般写算法进行数据计算，数据处理，都需要有个地方来存数据，我们可以使用封装好的数据结构：`集合` 或 `列表`。

1. 列表 `List` ：存放数据，数据按顺序排列，可以依次入队和出队，有序号关系，可以取出某序号的数据。先进先出的 `队列 (queue)` 和先进后出的 `栈（stack）` 都是列表。
2. 集合 `Set` ：存放数据，特点就是没有数据会重复，会去重。你放一个数据进去，再放一个数据进去，如果两个数据一样，那么只会保存一份数据。集合可以没有顺序关系，也可以按值排序，算一种特殊的列表。

大家也经常听说一种叫 `线性表` 的数据结构，表示具有相同特性的数据元素的有限序列，实际上是上述的 `列表`，有 `顺序表示` 或 `链式表示`。

顺序表示：指的是用一组 `地址连续的存储单元` 依次存储线性表的数据元素，称为线性表的 `顺序存储结构`。它以 `物理位置相邻` 来表示线性表中数据元素间的逻辑关系，可随机存取表中任一元素。顺序表示的又叫 `顺序表`，也就是用数组来实现的列表。

链式表示：指的是用一组 `任意的存储单元` 存储线性表中的数据元素，称为线性表的 `链式存储结构`。它的存储单元可以是连续的，也可以是不连续的。在表示数据元素之间的逻辑关系时，除了存储其本身的信息之外，还需存储一个指示其直接后继的信息，也就是用链表来实现的列表。

我们已经实现过这两种表示的队列(`queue`)了。

## 五、实践：实现双端队列

我们可以实现一个链式的双向列表（也叫双端队列）：既可以先进先出 ` (queue)`，也可以先进后出 `（stack）` 的数据结构。它是由双向链表来实现的，参见 `Golang` 标准库 `container/list`：

```go
ss
```

在实际工程应用上，缓存数据库 `Redis` 的 `列表List` 基本类型就是用双端队列来实现的。

## 六、实践：实现集合 Set

因为我们知道字典的键是不重复的，所以只要我们不考虑字典的值，就可以实现集合，我们来实现存整数的集合 `Set`：

```go
// 集合结构体
type Set struct {
	m            map[int]bool // 用字典来实现，因为字段键不能重复
	len          int          // 集合的大小
	sync.RWMutex              // 锁，实现并发安全
}
```

字典是如何实现的，请看相关的章节。

### 6.1