# 列表

## 一、列表 List

我们又经常听到 `列表 List` 数据结构，其实这只是更宏观的统称，表示存放数据的队列。

>列表 `List`：存放数据，数据按顺序排列，可以依次入队和出队，有序号关系，可以取出某序号的数据。先进先出的 `队列 (queue)` 和先进后出的 `栈（stack）` 都是列表。大家也经常听说一种叫 `线性表` 的数据结构，表示具有相同特性的数据元素的有限序列，实际上就是 `列表` 的同义词。

我们一般写算法进行数据计算，数据处理，都需要有个地方来存数据，我们可以使用封装好的数据结构 `List`：

列表的实现有 `顺序表示` 或 `链式表示`。

顺序表示：指的是用一组 `地址连续的存储单元` 依次存储线性表的数据元素，称为线性表的 `顺序存储结构`。它以 `物理位置相邻` 来表示线性表中数据元素间的逻辑关系，可随机存取表中任一元素。顺序表示的又叫 `顺序表`，也就是用数组来实现的列表。

链式表示：指的是用一组 `任意的存储单元` 存储线性表中的数据元素，称为线性表的 `链式存储结构`。它的存储单元可以是连续的，也可以是不连续的。在表示数据元素之间的逻辑关系时，除了存储其本身的信息之外，还需存储一个指示其直接后继的信息，也就是用链表来实现的列表。

我们在前面已经实现过这两种表示的数据结构：先进先出的 `队列 (queue)` 和先进后出的 `栈（stack）`。接下来我们会来实现链表形式的双端列表，也叫双端队列，这个数据结构应用场景更广泛一点。在实际工程应用上，缓存数据库 `Redis` 的 `列表List` 基本类型就是用它来实现的。

## 二、实现双端列表

双端列表，也可以叫双端队列

我们会用双向链表来实现这个数据结构：

```go
// 双端列表，双端队列
type DoubleList struct {
	head *listNode // 指向链表头部
	tail *listNode // 指向链表尾部
	len  *listNode // 列表长度
}

// 列表节点
type listNode struct {
	pre   *listNode // 前驱节点
	next  *listNode // 后驱节点
	value string    // 值
}
```

设计指向队列头部 `head` 和尾部 `tail` 的指针字段，方便找到链表最前和最后的节点，并且链表节点之间是双向链接的，链表的第一个元素的前驱节点为 `nil`，最后一个元素的后驱节点也为 `nil`。如图：

![](../picture/double_list.png
)

我们实现的双端列表和 `Golang` 标准库 `container/list` 中实现的不一样，感兴趣的可以阅读标准库的实现。

